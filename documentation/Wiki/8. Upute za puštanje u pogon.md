## 1. Instalacija

### Potrebni softveri i verzije:

> Docker (Verzija 28.5.2)

> Node.js (Verzija 11.4.2)

> Java (Verzija 22.0.2)

> Maven (Verzija ^3.9.0)

> Postgersql (17.4)

> Git (Verzija 2.45.1)

### Razvojni alati

> Intellij IDEA (Verzija 25)

> Webstorm (Verzija 25)

### Preuzimanje izvornog koda

Izvorni kod mozete skinuti preko command line-a pomocu sljedecih komandi:

>`git clone https://github.com/rokoKnin/ProgiG03.3_JuliusMeinl.git`
>`cd ./ProgiG03.3_JuliusMeinl/`

Zatim instalirani projekt mozete otvoriti i pokretati iz Intellija i WebStorma

### Preuzimanje dependencia i postavljanje projekta:

> Ovdje cu se fokusirati na Intellij razvojno okruzenje, ali slicno se sve postavlja u svim ostalim orkuzenjima.

> Ovo su upute za lokalno pokretanje:

1. Kad otvorite projekt u Intellij-u izaci ce vam pop-up da je prepoznao maven build file, pritisnite build.

2. Intellij ce potencijalno i prepoznati da vam fale dependencies iz package.json-a u frontendu pa kliknite na gumb za npm install ili se pozicionirajte u ProgiG03.3_JuliusMeinl\frontend i pokrenite npm install.

## 2. Postavke

>_upute za namjestanje kofiguracijskih datoteka_

- frontend .env mora sadrzavati ovo:
>`VITE_API_URL = VAS_BACKEND_URL` (za lokalno runnanje ce to biti http://localhost:8080)

- backend .env mora sadrzavati ovo:
>`DB_URL= VAS_URL_ZA_POSTGRES_BAZU`
>
>`DB_USERNAME= POSTGRES_USERNAME`
>
>`DB_PASSWORD= SIFRA_ZA_POSTGRES_USERNAME`
>
> `JULIUS_FRONTEND_URL= VAS_FRONTEND_URL` (za lokalno runnanje ce to biti http://localhost:5173)
>
> `MAIL_PASSWORD= SIFRA_ZA_SMTP_MAIL`
>
> `GOOGLE_CLIENT_ID= VAS_GOOGLE_CLIENT_ID`
>
> `GOOGLE_CLIENT_SECRET= SIFRA_VASEG_GOOGLE_CLIENT_ID`

- Postavljanje Baze Podataka:

> bazu se postavlja iz filea baza.sql koji se nalazi u folderu bazaPodataka

> bazu je moguce i napuniti defaultnim sobama koje se nalaze u sobe_insert.sql 

## 3. Pokretanje aplikacije

- Razvojno okruzenje:

> _Pokretanje frontnda:_

| ![Slika8.1.jpg](../images/Slika%208.1.jpg)             |
|--------------------------------------------------------|
| SLika 8.1: Pokretanje frontend-a u razvojnom okruzenju | 

> _pokretanje backenda je nalakše pomoću Intellij-a pokretanjem direktno iz BackendApplication.java (Vidi Sliku 8.2). Intellij također omogućuje pokretanje u debug načinu što daje mogućnost detaljnijeg pregleda funkcioniranja aplikacije. No može se i iz terminala pomoću mavena s funkcijom: mvn spring-boot:run._

|![Slika 8.2.jpg](../images/Slika%208.2.jpg)                                              |
|------------------------------------------------------|
| SLika 8.2: Pokretanje backenda u razvojnom okruzenju | 

- Produkcijsko okruzenje:

> _Buildanje frontnda:_

| ![Slika 8.3.jpg](../images/Slika%208.3.jpg)              |
|----------------------------------------------------------|
| SLika 8.3: Priprema frontend-a za produkcijsko okruzenje | 

> _Buildanje Docker kontejnera za backend:_

| ![Slika 8.4.jpg](../images/Slika%208.4.jpg)            |
|--------------------------------------------------------|
| SLika 8.4: Priprema backenda za produkcijsko okruzenje | 

## 4. Upute za administratore

_Smjernice za administratore aplikacije nakon puštanja u pogon:_

- Pristup administratorskom sučelju:
  - [AdminPanel URL](https://bluedilla.onrender.com/#/AdminStart)
  - Podatci za prijavu (preko OAuth2):
    - email: _juliusmeinlt3.3@gmail.com_
    - sifra: _progiT3.3_


- Redovito održavanje:
  - _Pregled logova:_
    - Logovi aplikacije dostupni su putem Render sučelja, gdje se mogu pregledati za dijagnosticiranje grešaka i praćenje aktivnosti.
  - _Ažuriranje aplikacije:_
    - Render preuzima direktno s DockerHuba docker kontejner s tagom latest, tako da se prilikom izmjena vrlo lako moze deployati ažurirana verzija.

## 5. Primjer za Render platformu (Cloud Deploy)

_Render je popularna cloud platforma za jednostavno smješanje aplikacija._

> Prvi korak postavljanja aplikacije na Render je kreiranje svog racuna i workspacea

- Postavljanje na Render: 
  - Baza Podataka:
    - Napravi se novi service 'Postgres'
    - pomocu SQL Shella se spoji sa svog računala na bazu na Renderu i pokrenu se potrebne skripte za učitavanje podataka
  - Frontend:
    - Napravi se novi service: 'Static site'
    - poveže ga se s githubom
    - postave se enviromental varijable
  - Backend:
    - Napravi se novi service: 'Web Service'
    - Poveže ga se ili sa githubom ili sa dockerhubom
    - postave se sve enviromental varijable
      - potrebno je izmijeniti link na bazu podataka da bude oblika: jdbc:postgresql://dpg-##############:PORT/NAZIV_BAZE_####

# Opis prisutpa aplikaciji na javnom poslužitelju

- Ograničenja: 
  - Aplikacija je deployana na besplatnoj verziji Rendera. To povlači da je relativno spora, ne podržava veliki broj istovremenih korisnika. 
  - Baza Podataka traje mjesec dana prije nego što ju Render obriše.

- Korisnici pristupaju aplikaciji preko [URL-a](https://bluedilla.onrender.com)
- Recepcionist pristupa ili preko istog URL-a pa klikom na gumb Recepcionist ili direktno preko [Recepcionist URL-a](https://bluedilla.onrender.com/#/recepcionist)
- Administratori pristupaju ili preko istog URL-a pa klikom na gumb Admin ili direktno preko [Admin URL-a](https://bluedilla.onrender.com/#/AdminStart)